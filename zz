07:06:08 - [INFO] - WAKE WORD DETECTED!
07:06:08 - [INFO] - !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
07:06:08 - [INFO] - State transition: IDLE -> RECORDING
07:06:08 - [INFO] - Executing 1 callback(s) for state RECORDING
07:06:08 - [INFO] - Entered RECORDING state
07:06:08 - [INFO] - Stopping wake word listener...
07:06:08 - [INFO] - Stopping wake word detector...
07:06:08 - [INFO] - Background task 'wake_word_listener' completed successfully
07:06:08 - [INFO] - Wake word detector stopped
07:06:08 - [INFO] - Wake word listener stopped
07:06:08 - [INFO] - Waiting 0.5s for audio device release...
07:06:09 - [INFO] - Audio device released, ready for recording
07:06:09 - [INFO] - State transition complete: now in RECORDING
07:06:09 - [INFO] - Starting audio recording process...
07:06:09 - [INFO] - Recording audio...
07:06:09 - [INFO] - Starting audio recording...
07:06:09 - [INFO] - Starting audio recording...
07:06:09 - [INFO] - Settings: sample_rate=48000, silence_threshold=2000, silence_duration=1.5s, max_duration=30s
07:06:09 - [INFO] - Output file: /tmp/voice_kiosk_recordings/recording_1760659569.wav
07:06:09 - [INFO] - Opening audio stream...
Expression 'ret' failed in 'src/hostapi/alsa/pa_linux_alsa.c', line: 1736
Expression 'AlsaOpen( &alsaApi->baseHostApiRep, params, streamDir, &self->pcm )' failed in 'src/hostapi/alsa/pa_linux_alsa.c', line: 1904
Expression 'PaAlsaStreamComponent_Initialize( &self->capture, alsaApi, inParams, StreamDirection_In, NULL != callback )' failed in 'src/hostapi/alsa/pa_linux_alsa.c', line: 2171
Expression 'PaAlsaStream_Initialize( stream, alsaHostApi, inputParameters, outputParameters, sampleRate, framesPerBuffer, callback, streamFlags, userData )' failed in 'src/hostapi/alsa/pa_linux_alsa.c', line: 2839
07:06:10 - [ERROR] - Error during recording: Error opening InputStream: Device unavailable [PaErrorCode -9985]
Traceback (most recent call last):
  File "/home/hal/hal/voice-kiosk/audio_recorder.py", line 83, in record
    stream = sd.InputStream(
        device=self.audio_device,
    ...<2 lines>...
        dtype='int16'
    )
  File "/home/hal/hal/venv/lib/python3.13/site-packages/sounddevice.py", line 1440, in __init__
    _StreamBase.__init__(self, kind='input', wrap_callback='array',
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                         **_remove_self(locals()))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hal/hal/venv/lib/python3.13/site-packages/sounddevice.py", line 909, in __init__
    _check(_lib.Pa_OpenStream(self._ptr, iparameters, oparameters,
    ~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                              samplerate, blocksize, stream_flags,
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                              callback_ptr, userdata),
                              ^^^^^^^^^^^^^^^^^^^^^^^^
           f'Error opening {self.__class__.__name__}')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hal/hal/venv/lib/python3.13/site-packages/sounddevice.py", line 2804, in _check
    raise PortAudioError(errormsg, err)
sounddevice.PortAudioError: Error opening InputStream: Device unavailable [PaErrorCode -9985]
07:06:10 - [INFO] - Recording cleanup complete
07:06:10 - [INFO] - Audio recording complete: None

